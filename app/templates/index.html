<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
    <script
        src="{{ url_for('static', filename='scripts/humdrum-notation-plugin-worker.js') }}"
        defer>
    </script>
    <script
        src="{{ url_for('static', filename='scripts/shopit.js') }}"
        defer>
    </script>

    <!-- Initial score to display (provided by server if session (with score) found) -->
    <script id="initialScore" type="plain/text">
        {{ meiInitialScore }}
    </script>
    <script id="currentScore" type="plain/text">

    </script>
    <title>Shop it!</title>
</head>
<body>
    <h1>Shop it!</h1>
    <div class="btn-group" role="group" aria-label="Upload score">
        <input
            type="file"
            id="fileElem"
            accept=".musicxml,.xml,.mxl,.krn,.mei"
            style="display:none" />
        <button id="fileSelect" type="button" class="btn btn-primary" role="button">Upload score (MusicXML, Humdrum, MEI) </button>
    </div>
    <div class="btn-toolbar mt-2" role="toolbar" aria-label="Operations">
        <div class="btn-group me-2" role="group" aria-label="Score modification">
            <button id="shopItUpper" type="button" class="btn btn-primary">Shop it! (SSAA)</button>
            <button id="shopItLower" type="button" class="btn btn-primary">Shop it! (TTBB)</button>
            <button id="transpose" type="button" class="btn btn-primary">Transpose</button>
        </div>
        <div class="btn-group me-2" role="group" aria-label="Chord options">
            <button id="hideChordOptions" type="button" class="btn btn-primary">Hide chord options</button>
            <button id="showChordOptions" type="button" class="btn btn-primary">Show chord options</button>
        </div>
        <div class="btn-group me-2" role="group" aria-label="Undo redo">
            <button id="undo" type="button" class="btn btn-primary">Undo</button>
            <button id="redo" type="button" class="btn btn-primary">Redo</button>
        </div>
    </div>
    <div class="btn-toolbar mt-2" role="toolbar" aria-label="Download score">
        <div class="btn-group" role="group" aria-label="Download score">
            <a id="downloadAnchorMusicXML" class="btn btn-primary"
                download href="{{ url_for('musicxml') }}">Download MusicXML</a>
            <a id="downloadAnchorHumdrum" class="btn btn-primary"
                download href="{{ url_for('humdrum') }}">Download Humdrum</a>
            <a id="downloadAnchorMEI" class="btn btn-primary"
                download href="{{ url_for('mei') }}">Download MEI</a>
    </div>
    <div id="notation"></div>
</body>
</html>
